{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./editing/js/table.js"],"names":["cacie_options_format_editable","options","foptions","i","length","parent","text","label","children","j","hasOwnProperty","push","value","id","cacie_esc_regex","replace","cacie_is_float","decimal_point_regex","woocommerce_admin","decimal_point","regex","RegExp","match","cacie_get_query_param_from_url","param","url","results","exec","decodeURIComponent","cacie_escape_selector","s","cacie_init","$","window","xeditables","cacie_edit_enabled","list","AC","table_id","columns","ACP_Editing_Columns","items","ACP_Editing_Items","column_name","column","editable","type","fn","jQuery","console","error","each","hasClass","item","parents","find","val","id_attr","attr","parseInt","substr","lastIndexOf","href","currentvalue","columndata","revisions","errors","addClass","wrapInner","el","cacie_handle_value","cacie_handle_actions","cacie_enable","document","trigger","cacie_disable","removeClass","ready","on","$but","prop","post","ajaxurl","action","list_screen","layout","_ajax_nonce","ajax_nonce","ACP_Editing","inline_edit","active","persistent","e","stopPropagation","$link","remove","location","cacie_wrap_images","data","$el","wrap","cacie_show_message","message","el_alert","append","after","cacie_after_save","newvalue","cacie_set_value","closest","cacie_remove_ajax_loading","cacie_get_value","isempty","cacie_add_ajax_loading","editable_el","siblings","eq","cacie_restore_revision","revision","current_revision","ID","is_xeditable","target","cacie_get_target","cacie_savecolumn","js","selector","cacie_edit_text","cacie_xeditable","cacie_edit_url","cacie_edit_float","validate","i18n","invalid_float","cacie_edit_number","cacie_edit_password","cacie_edit_email","cacie_edit_checkboxlist","cacie_edit_textarea","rows","cacie_edit_select","source","cacie_edit_select2_dropdown","defaults","showbuttons","select2","width","column_editable","ajax_populate","_args","minimumInputLength","escapeMarkup","initSelection","element","callback","formattedvalue","ajax","dataType","quietMillis","searchterm","page","item_id","response","success","more","input","$input","container","$form","editableform","extend","multiple","inp","currentdata","cacie_edit_select2_tags","tags","cacie_edit_togglable","num_values","current_index","required","field_required","cacie_edit_media","cacie_edit_attachment","preventDefault","current_selection","isArray","args","title","media","attachment","library","uploaded_to_post","uploadedTo","image","audio","uploader","wp","selection","state","get","forEach","fetch","add","toJSON","attachment_ids","k","disable_select_current","setTimeout","open","cacie_edit_date","slice","join","bdatepicker","weekStart","weekstart","ev","new_date","Date","date","yyyymmdd","prototype","yyyy","getFullYear","toString","mm","getMonth","dd","getDate","cacie_edit_checklist","params","pk","screen","placement","mode","emptytext","placeholder","htmlatts","maxlength","key","range_min","parseFloat","range_max","range_step","step","htmlatts_html","html","tpl","valid","cacie_store_revision","newValue","display_ajax","display","cacie_replace_column_html","rawvalue","xeditable","num_deletes","pop","el_actions","el_undo","el_redo","el_clear","el_download","el_edit","edit","undo","redo","delete","hide","clear_button","prepend","download","before","el_item_actions","el_delete","_item","grep","fadeOut","current_value","show","store_revision","$td","display_value","$row_actions","cell_html","row_html","$display_value","ACP_Color_Input","init","editableutils","inherit","editabletypes","abstractinput","render","value2input","$container","wpColorPicker","input2value","template","color","cacie_edit_color","inputclass","subtype","EditableDateTime","$date_field","$time_hours_field","$time_minutes_field","$time_seconds_field","format","focus","$option","timeformat","formatAMPM","clone","hours","ampm","minutes","seconds","time","date_time","cacie_edit_date_time","ACP_Multi_Input","input_type","$template","map","multi_input","cacie_edit_multi_input"],"mappings":"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","file":"table.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./editing/js/table.js\");\n","'use strict';\n/*global AC {Object} */\n/*global ACP_Editings */\n/*global ACP_Editing_Columns {Object} */\n/*global ACP_Editing_Items */\n\n/*global woocommerce_admin {Object} */\n\n/**\n * Format a list of options from a storage model for use in X-editable\n *\n * @since 1.0\n *\n * @param {Array} options List of options, can be nested (1 level max). Options have their key as the input value and their value as the input label. Parents have string 'label' and array 'options' of options.\n * @returns {Array} List of options with parents with 'text' and 'children' and options with 'id' and 'text'\n */\nfunction cacie_options_format_editable( options ) {\n\n\tlet foptions = [];\n\n\tif ( typeof options === \"undefined\" ) {\n\t\treturn foptions;\n\t}\n\n\tfor ( let i = 0; i < options.length; i++ ) {\n\t\tlet parent;\n\n\t\tif ( typeof options[ i ].options !== 'undefined' ) {\n\t\t\tparent = {\n\t\t\t\ttext : options[ i ].label,\n\t\t\t\tchildren : []\n\t\t\t};\n\n\t\t\tfor ( let j in options[ i ].options ) {\n\t\t\t\tif ( options[ i ].options.hasOwnProperty( j ) ) {\n\t\t\t\t\tparent.children.push( {\n\t\t\t\t\t\tvalue : options[ i ].options[ j ].value,\n\t\t\t\t\t\tid : options[ i ].options[ j ].value,\n\t\t\t\t\t\ttext : options[ i ].options[ j ].label\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tparent = {\n\t\t\t\tvalue : options[ i ].value,\n\t\t\t\tid : options[ i ].value,\n\t\t\t\ttext : options[ i ].label\n\t\t\t};\n\t\t}\n\n\t\tfoptions.push( parent );\n\t}\n\n\treturn foptions;\n}\n\nfunction cacie_esc_regex( value ) {\n\treturn value.replace( /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\" );\n}\n\nfunction cacie_is_float( value ) {\n\tlet decimal_point_regex = '';\n\n\t// TODO: move to WC addon\n\tif ( typeof woocommerce_admin.decimal_point !== 'undefined' ) {\n\t\tdecimal_point_regex = '|' + cacie_esc_regex( woocommerce_admin.decimal_point );\n\t}\n\n\tlet regex = new RegExp( \"^[0-9]+((\\.\" + decimal_point_regex + \")[0-9]+)?$\" );\n\n\treturn value.match( regex );\n\n}\n\n/**\n * Get query param from url\n *\n * @param param\n * @param url\n * @returns {*}\n */\nfunction cacie_get_query_param_from_url( param, url ) {\n\tif ( !url ) {\n\t\treturn null;\n\t}\n\tparam = param.replace( /[\\[\\]]/g, \"\\\\$&\" );\n\n\tlet regex = new RegExp( \"[?&]\" + param + \"(=([^&#]*)|&|#|$)\" ), results = regex.exec( url );\n\n\tif ( !results ) {\n\t\treturn null;\n\t}\n\n\tif ( !results[ 2 ] ) {\n\t\treturn '';\n\t}\n\n\treturn decodeURIComponent( results[ 2 ].replace( /\\+/g, \" \" ) );\n}\n\nfunction cacie_escape_selector( s ) {\n\treturn s.replace( /([:\\.\\[\\]])/g, \"\\\\$1\" );\n}\n\n/*\n * Init\n */\nfunction cacie_init( $ ) {\n\n\t// List of xeditable elements for global reference\n\twindow.xeditables = [];\n\n\t// this will allow non xeditable fields with click events to be disabled / enabled\n\twindow.cacie_edit_enabled = 1;\n\n\t// Items table/container to apply editability on\n\tlet list = $( AC.table_id );\n\n\t// Readability\n\t/**\n\t * @namespace ACP_Editing_Columns\n\t */\n\tlet columns = ACP_Editing_Columns;\n\tlet items = ACP_Editing_Items;\n\n\t// Loop through columns\n\tfor ( let column_name in columns ) {\n\t\tif ( !columns.hasOwnProperty( column_name ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet column = columns[ column_name ];\n\n\t\t// Set column name\n\t\tcolumn.column_name = column_name;\n\n\t\t// Make column editable\n\t\tif ( column.editable ) {\n\t\t\tif ( typeof column.editable.type === 'undefined' || column.editable.type === '' ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet type = column.editable.type;\n\t\t\tlet fn;\n\n\t\t\t// Function for editability of items in this column\n\t\t\tfn = 'cacie_edit_' + type;\n\n\t\t\tif ( !jQuery()[ fn ] ) {\n\t\t\t\tconsole.error( fn + ' does not exist' );\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Loop through items for current column\n\t\t\t$( '.column-' + cacie_escape_selector( column_name ), list ).each( function() {\n\t\t\t\tif ( $( this ).hasClass( 'cacie-editable-container' ) ) {\n\t\t\t\t\t// in case we run init again\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// Get corresponding item for row\n\t\t\t\tlet item;\n\n\t\t\t\t// Object ID\n\t\t\t\tlet id = $( this ).parents( 'tr' ).find( '.check-column input' ).val();\n\n\t\t\t\t// When checkbox column is not available try to get the ID from <tr> attribute-id.\n\t\t\t\tif ( !id ) {\n\t\t\t\t\tlet id_attr = $( this ).parents( 'tr' ).attr( 'id' );\n\t\t\t\t\tif ( id_attr ) {\n\t\t\t\t\t\tid = parseInt( id_attr.substr( id_attr.lastIndexOf( '-' ) + 1 ), 10 );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// For MS Sites we can get the ID from the url.\n\t\t\t\tif ( !id ) {\n\t\t\t\t\tlet href = $( this ).parents( 'tr' ).find( '.edit a' ).attr( 'href' );\n\n\t\t\t\t\tif ( href ) {\n\t\t\t\t\t\tid = cacie_get_query_param_from_url( 'id', href );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( !(id in items) ) {\n\t\t\t\t\t// Skip to the next element (equivalent to \"continue\" in a for-loop)\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\titem = items[ id ];\n\n\t\t\t\t// Current value\n\t\t\t\tlet currentvalue;\n\n\t\t\t\tif ( column_name in item.columndata ) {\n\t\t\t\t\tcurrentvalue = item.columndata[ column_name ].revisions[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Value must be defined and must no be a WP Error object\n\t\t\t\tif ( currentvalue === null || (typeof currentvalue === 'undefined') || (typeof currentvalue.errors !== 'undefined') ) {\n\t\t\t\t\t// Skip to the next element (equivalent to \"continue\" in a for-loop)\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Save value to item\n\t\t\t\tif ( type === 'select2_dropdown' || type === 'select2_tags' ) {\n\t\t\t\t\tif ( currentvalue.length === 0 ) {\n\t\t\t\t\t\tcurrentvalue = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem.columndata[ column_name ].value = currentvalue;\n\n\t\t\t\t// Add classes to table cell\n\t\t\t\t$( this ).addClass( 'cacie-editable-container cacie-editable-' + type );\n\n\t\t\t\t// Wrap the editable content for better control\n\t\t\t\t$( this ).wrapInner( '<span class=\"inner cacie-editable\"></span>' );\n\t\t\t\tlet el = $( this ).find( '.inner' );\n\n\t\t\t\t// set attributes\n\t\t\t\tel.cacie_handle_value( column, item );\n\t\t\t\tel.cacie_handle_actions( column, item );\n\n\t\t\t\t// Make editable\n\t\t\t\tel[ fn ]( column, item );\n\t\t\t} );\n\t\t}\n\t}\n}\n\n/*\n * Enable inline editing\n */\nfunction cacie_enable( $ ) {\n\tif ( typeof window.xeditables === 'undefined' ) {\n\t\tcacie_init( $ );\n\t}\n\n\t// enable cacie when init has run once\n\telse {\n\t\t$( window.xeditables ).editable( 'enable' );\n\t}\n\n\t$( AC.table_id ).addClass( 'cacie-enabled' );\n\twindow.cacie_edit_enabled = 1;\n\tjQuery( document ).trigger( 'AC.editing.enabled' );\n}\n\n/*\n * Enable inline editing\n */\nfunction cacie_disable( $ ) {\n\t$( window.xeditables ).editable( 'disable' );\n\twindow.cacie_edit_enabled = 0; // disable click events\n\t$( AC.table_id ).removeClass( 'cacie-enabled' );\n\n\tjQuery( document ).trigger( 'AC.editing.disabled' );\n}\n\n/*\n * DOM ready\n */\njQuery( document ).ready( function( $ ) {\n\t$( '.wp-list-table tbody' ).on( 'updated', 'tr', function() {\n\t\tcacie_init( $ );\n\t} );\n\n\t// Columns and items are available\n\tif ( typeof ACP_Editing_Columns === 'undefined' || typeof ACP_Editing_Items === 'undefined' || ACP_Editing_Items === null ) {\n\t\treturn;\n\t}\n\n\t// Any editable columns and items\n\tif ( ACP_Editing_Columns.length === 0 || ACP_Editing_Items.length === 0 ) {\n\t\treturn;\n\t}\n\n\t// New Toggle\n\tlet $but = $( '#acp-enable-editing' );\n\n\n\t$but.on( 'change', function() {\n\t\tif ( jQuery( this ).prop( 'checked' ) ) {\n\t\t\tcacie_enable( $ );\n\t\t} else {\n\t\t\tcacie_disable( $ );\n\t\t}\n\n\t\t// store preference\n\t\t$.post( ajaxurl, {\n\t\t\taction : 'acp_editing_state_save',\n\t\t\tvalue : window.cacie_edit_enabled,\n\t\t\tlist_screen : AC.list_screen,\n\t\t\tlayout : AC.layout,\n\t\t\t_ajax_nonce : AC.ajax_nonce\n\t\t} );\n\t} );\n\n\t$( document ).on( 'AC.editing.enabled', function() {\n\t\t$but.prop( 'checked', true );\n\t} );\n\n\t$( document ).on( 'AC.editing.disabled', function() {\n\t\t$but.prop( 'checked', false );\n\t} );\n\n\tif ( ACP_Editing.inline_edit.active === true || ACP_Editing.inline_edit.persistent === true ) {\n\t\tcacie_enable( $ );\n\t}\n\n\t$( '.wp-list-table' ).on( 'click', '.cacie-editable a', function( e ) {\n\t\te.stopPropagation();\n\t\tlet $link = $( this );\n\n\t\t$link.parent().editable( 'destroy' );\n\t\t$link.parents( 'td:first' ).find( '.popover' ).remove();\n\t\twindow.location.href = $link.attr( 'href' );\n\t} );\n\n} );\n\n(function( $ ) {\n\n\t$.fn.cacie_wrap_images = function() {\n\t\t$( this ).find( '.ac-image' ).each( function() {\n\t\t\tlet id = $( this ).data( 'media-id' );\n\t\t\tif ( $( this ).parent( '.cacie-item' ).length > 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet $el = $( '<div class=\"cacie-item\"></div>' );\n\n\t\t\t$el.attr( 'data-cacie-id', id );\n\n\t\t\t$( this ).wrap( $el );\n\t\t} );\n\t};\n\n\t$.fn.cacie_show_message = function( message, type ) {\n\n\t\tif ( typeof type === 'undefined' ) {\n\t\t\ttype = '';\n\t\t}\n\t\telse if ( type !== 'info' && type !== 'error' && type !== 'success' ) {\n\t\t\ttype = '';\n\t\t}\n\n\t\tlet el_alert = $( '<div />' );\n\n\t\tel_alert.addClass( 'alert' );\n\n\t\tif ( type ) {\n\t\t\tel_alert.addClass( 'alert-' + type );\n\t\t}\n\n\t\tel_alert.append( '<button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>' );\n\t\tel_alert.append( message );\n\n\t\t$( this ).after( el_alert );\n\t};\n\n\t$.fn.cacie_after_save = function( column, item, newvalue ) {\n\t\tlet el = $( this );\n\n\t\tif ( typeof newvalue !== 'undefined' ) {\n\t\t\tel.cacie_set_value( column, item, newvalue );\n\t\t}\n\n\t\tel.closest( 'td' ).removeClass( 'processing' );\n\t\tel.cacie_handle_value( column, item );\n\t\tel.cacie_handle_actions( column, item );\n\t\tel.cacie_remove_ajax_loading();\n\n\t\t// hook for addons\n\t\t$( document ).trigger( 'cacie_after_save', [ column, item, newvalue ] );\n\t};\n\n\t$.fn.cacie_handle_value = function( column, item ) {\n\t\tlet el = $( this );\n\t\tlet currentvalue = el.cacie_get_value( column, item );\n\t\tlet isempty = true;\n\n\t\tif ( currentvalue ) {\n\t\t\tisempty = false;\n\t\t}\n\n\t\tif ( column.editable.type === 'media' && currentvalue === 'false' ) {\n\t\t\tisempty = true;\n\t\t}\n\n\t\tif ( isempty ) {\n\t\t\tel.parents( 'td' ).removeClass( 'cacie-nonempty' );\n\t\t\tel.parents( 'td' ).addClass( 'cacie-empty' );\n\t\t}\n\t\telse {\n\t\t\tel.parents( 'td' ).addClass( 'cacie-nonempty' );\n\t\t\tel.parents( 'td' ).removeClass( 'cacie-empty' );\n\t\t}\n\t};\n\n\t$.fn.cacie_add_ajax_loading = function( column ) {\n\t\tlet el = $( this );\n\t\tlet editable_el = el.parents( 'td' ).find( '.cacie-editable' );\n\n\t\t// TODO: remove column references\n\t\tswitch ( column.type ) {\n\t\t\tcase 'title':\n\t\t\tcase 'name':\n\t\t\tcase 'username':\n\t\t\t\tif ( editable_el.siblings( '.post-state' ).length ) {\n\t\t\t\t\teditable_el = editable_el.siblings( '.post-state' ).eq( 0 );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\teditable_el.after( '<div class=\"spinner cacie-ajax-loading\" />' );\n\t};\n\n\t$.fn.cacie_remove_ajax_loading = function() {\n\t\tlet el = $( this );\n\n\t\tel.parents( 'td' ).find( '.cacie-ajax-loading' ).remove();\n\t};\n\n\t$.fn.cacie_restore_revision = function( column, item, revision ) {\n\t\tlet el = $( this );\n\n\t\titem.columndata[ column.column_name ].current_revision = revision;\n\n\t\tlet revisions = ACP_Editing_Items[ item.ID ].columndata[ column.column_name ].revisions;\n\t\tlet current_revision = ACP_Editing_Items[ item.ID ].columndata[ column.column_name ].current_revision;\n\n\t\tif ( 'is_xeditable' in column.editable && column.editable.is_xeditable ) {\n\t\t\tlet target = el.cacie_get_target( column );\n\n\t\t\tel.cacie_add_ajax_loading( column );\n\n\t\t\ttarget.editable( 'setValue', revisions[ current_revision ], true );\n\t\t\ttarget.editable( 'submit' );\n\t\t}\n\t\telse {\n\t\t\tel.cacie_savecolumn( column, item, revisions[ current_revision ], false );\n\t\t}\n\n\t\tel.cacie_handle_actions( column, item );\n\t};\n\n\t$.fn.cacie_get_target = function( column ) {\n\t\tlet el = $( this );\n\n\t\tif ( typeof column.editable.js !== 'undefined' && typeof column.editable.js.selector !== 'undefined' && el.find( column.editable.js.selector ).length ) {\n\t\t\tel = el.find( column.editable.js.selector );\n\t\t}\n\n\t\treturn el;\n\t};\n\n\t/**\n\t * Get value\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_get_value = function( column, item ) {\n\t\treturn item.columndata[ column.column_name ].value;\n\t};\n\n\t/**\n\t * Set value\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_set_value = function( column, item, newvalue ) {\n\t\titem.columndata[ column.column_name ].value = newvalue;\n\t};\n\n\t/**\n\t * Edit type: Text\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_text = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'text',\n\t\t\tvalue : el.cacie_get_value( column, item )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: URL\n\t *\n\t * @since 3.6\n\t */\n\t$.fn.cacie_edit_url = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'url',\n\t\t\tvalue : el.cacie_get_value( column, item )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Float\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_float = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'text',\n\t\t\tvalue : el.cacie_get_value( column, item ),\n\t\t\tvalidate : function( value ) {\n\t\t\t\tif ( value && !cacie_is_float( value ) ) {\n\t\t\t\t\treturn ACP_Editing.i18n.errors.invalid_float;\n\t\t\t\t}\n\t\t\t}\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Number\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_number = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'number',\n\t\t\tvalue : el.cacie_get_value( column, item )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Password\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_password = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'password',\n\t\t\tvalue : el.cacie_get_value( column, item )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Email\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_email = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'email',\n\t\t\tvalue : el.cacie_get_value( column, item )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Checkbox list\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_checkboxlist = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'checklist'\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Textarea\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_textarea = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'textarea',\n\t\t\trows : 10,\n\t\t\tvalue : el.cacie_get_value( column, item )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Select\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_select = function( column, item ) {\n\n\t\tlet el = $( this );\n\t\tlet value = el.cacie_get_value( column, item );\n\t\tlet options = column.editable.options;\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'select',\n\t\t\tvalue : value,\n\t\t\tsource : cacie_options_format_editable( options )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: Select2 - Dropdown\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_select2_dropdown = function( column, item ) {\n\n\t\tlet options = column.editable.options;\n\t\tlet el = $( this );\n\n\t\t// populate options from object\n\t\tlet defaults = {\n\t\t\ttype : 'select2',\n\t\t\tshowbuttons : true,\n\t\t\tsource : cacie_options_format_editable( options ),\n\t\t\tselect2 : {\n\t\t\t\twidth : '230px'\n\t\t\t}\n\t\t};\n\n\t\tlet column_editable = item.columndata[ column.column_name ];\n\n\t\t// populate options by ajax\n\t\tif ( typeof column.editable.ajax_populate !== 'undefined' && column.editable.ajax_populate ) {\n\t\t\tlet _args = {\n\t\t\t\tsource : '',\n\t\t\t\tshowbuttons : false,\n\t\t\t\tselect2 : {\n\t\t\t\t\twidth : 230,\n\t\t\t\t\tminimumInputLength : 0,\n\t\t\t\t\tescapeMarkup : function( text ) { return $( '<div>' + text + '</div>' ).text(); },\n\t\t\t\t\tinitSelection : function( element, callback ) {\n\t\t\t\t\t\tlet data = [];\n\n\t\t\t\t\t\tif ( typeof column_editable.formattedvalue !== 'undefined' && '' !== column_editable.formattedvalue ) {\n\t\t\t\t\t\t\tfor ( let id in column_editable.formattedvalue ) {\n\t\t\t\t\t\t\t\tdata.push( {\n\t\t\t\t\t\t\t\t\tid : id,\n\t\t\t\t\t\t\t\t\ttext : column_editable.formattedvalue[ id ]\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( data.length === 1 ) {\n\t\t\t\t\t\t\tcallback( data[ 0 ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ( data.length > 0 ) {\n\t\t\t\t\t\t\tcallback( data );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tajax : {\n\t\t\t\t\t\turl : ajaxurl,\n\t\t\t\t\t\tdataType : 'json',\n\t\t\t\t\t\tquietMillis : 100,\n\t\t\t\t\t\tdata : function( searchterm, page ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\taction : 'acp_editing_get_options',\n\t\t\t\t\t\t\t\tlayout : AC.layout,\n\t\t\t\t\t\t\t\tsearchterm : searchterm,\n\t\t\t\t\t\t\t\tpage : page,\n\t\t\t\t\t\t\t\tcolumn : column.column_name,\n\t\t\t\t\t\t\t\tlist_screen : AC.list_screen,\n\t\t\t\t\t\t\t\titem_id : item.ID,\n\t\t\t\t\t\t\t\t_ajax_nonce : AC.ajax_nonce\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t},\n\t\t\t\t\t\tresults : function( response ) {\n\t\t\t\t\t\t\tif ( response.success ) {\n\t\t\t\t\t\t\t\tlet more = response.data.more;\n\n\t\t\t\t\t\t\t\tif ( response.data.options.length === 0 ) {\n\t\t\t\t\t\t\t\t\tmore = false\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tresults : cacie_options_format_editable( response.data.options ),\n\t\t\t\t\t\t\t\t\tmore : more\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Close Select2 dropdown\n\t\t\t\t\t\t\tel.data( 'editable' ).input.$input.select2( 'close' );\n\n\t\t\t\t\t\t\t// Output error\n\t\t\t\t\t\t\tel.data( 'editable' ).container.$form.editableform( 'error', response.data );\n\n\t\t\t\t\t\t\treturn { results : [] };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdefaults = $.extend( defaults, _args );\n\t\t}\n\n\t\tif ( typeof column.editable.multiple !== 'undefined' && column.editable.multiple ) {\n\t\t\tdefaults.select2.multiple = true;\n\t\t\tdefaults.showbuttons = true;\n\t\t}\n\n\t\t$( this ).cacie_xeditable( defaults, column, item );\n\n\t\tif ( typeof column.editable.ajax_populate !== 'undefined' && column.editable.ajax_populate ) {\n\t\t\t$( this ).on( 'shown', function() {\n\t\t\t\tlet inp = el.data( 'editable' ).input.$input;\n\n\t\t\t\tinp.on( 'change', function() {\n\t\t\t\t\tcolumn_editable.formattedvalue = [];\n\t\t\t\t\tlet currentdata = inp.select2( 'data' );\n\n\t\t\t\t\tif ( typeof currentdata.id !== 'undefined' ) {\n\t\t\t\t\t\tcolumn_editable.formattedvalue[ currentdata.id ] = currentdata.text;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tfor ( let i in currentdata ) {\n\t\t\t\t\t\t\tif ( currentdata.hasOwnProperty( i ) ) {\n\t\t\t\t\t\t\t\tcolumn_editable.formattedvalue[ currentdata[ i ].id ] = currentdata[ i ].text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t} );\n\t\t}\n\t};\n\n\t/**\n\t * Edit type: Select2 - Tags\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_select2_tags = function( column, item ) {\n\n\t\tlet el = $( this );\n\t\tlet options = column.editable.options;\n\t\tlet value = el.cacie_get_value( column, item );\n\n\t\t// e.g. no terms available\n\t\tif ( 'false' === value || false === value ) {\n\t\t\tvalue = '';\n\t\t}\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'select2',\n\t\t\tvalue : value,\n\t\t\tselect2 : {\n\t\t\t\twidth : 200,\n\t\t\t\ttags : cacie_options_format_editable( options ),\n\t\t\t\tescapeMarkup : function( text ) { return $( '<div>' + text + '</div>' ).text(); }\n\t\t\t}\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Edit type: togglable\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_togglable = function( column, item ) {\n\n\t\tlet el = $( this );\n\t\tlet options = column.editable.options;\n\n\t\t// Toggle on click\n\t\t$( this ).on( 'click', function() {\n\t\t\tif ( !window.cacie_edit_enabled || !options ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet currentvalue = el.cacie_get_value( column, item );\n\t\t\tlet num_values = options.length;\n\t\t\tlet current_index = 0;\n\t\t\tlet newvalue;\n\n\t\t\tfor ( let i in options ) {\n\t\t\t\tif ( options.hasOwnProperty( i ) && (currentvalue === options[ i ].label) ) {\n\t\t\t\t\tcurrent_index = options[ i ].value;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( typeof column.editable.required !== 'undefined' && column.editable.required ) {\n\t\t\t\tif ( current_index !== 0 ) {\n\t\t\t\t\tel.cacie_show_message( ACP_Editing.i18n.errors.field_required );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnewvalue = options[ (current_index + 1) % num_values ].label;\n\n\t\t\t// Save column\n\t\t\tel.cacie_savecolumn( column, item, newvalue, true );\n\t\t} );\n\t};\n\n\t$.fn.cacie_edit_media = function( column, item ) {\n\t\tlet el = $( this );\n\n\t\tel.cacie_edit_attachment( column, item );\n\t};\n\n\t/**\n\t * Edit type: media\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_attachment = function( column, item ) {\n\n\t\tlet el = $( this );\n\n\t\t// Media upload\n\t\tel.on( 'click', function( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tif ( !window.cacie_edit_enabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet current_selection = el.cacie_get_value( column, item );\n\n\t\t\tif ( !$.isArray( current_selection ) ) {\n\t\t\t\tcurrent_selection = [ current_selection ];\n\t\t\t}\n\n\t\t\tlet args = {\n\t\t\t\tmultiple : (typeof column.editable.multiple !== 'undefined' && column.editable.multiple),\n\t\t\t\ttitle : ACP_Editing.i18n.media\n\t\t\t};\n\n\t\t\tif ( typeof column.editable.attachment !== 'undefined' && typeof column.editable.attachment.library !== 'undefined' ) {\n\t\t\t\targs.library = {};\n\n\t\t\t\tif ( typeof column.editable.attachment.library.uploaded_to_post !== 'undefined' ) {\n\t\t\t\t\targs.library.uploadedTo = item.ID;\n\t\t\t\t}\n\n\t\t\t\tif ( typeof column.editable.attachment.library.type !== 'undefined' ) {\n\t\t\t\t\targs.library.type = column.editable.attachment.library.type;\n\t\t\t\t}\n\n\t\t\t\t// Title\n\n\t\t\t\tif ( 'image' === column.editable.attachment.library.type ) {\n\t\t\t\t\targs.title = ACP_Editing.i18n.image;\n\t\t\t\t}\n\n\t\t\t\tif ( 'audio' === column.editable.attachment.library.type ) {\n\t\t\t\t\targs.title = ACP_Editing.i18n.audio;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Merge with column type-specific arguments\n\t\t\tif ( 'js' in column.editable ) {\n\t\t\t\targs = $.extend( args, column.editable.js );\n\t\t\t}\n\n\t\t\t// Init\n\t\t\tlet uploader = wp.media( args );\n\n\t\t\t// Add current selection\n\t\t\tuploader.on( 'open', function() {\n\t\t\t\tlet selection = uploader.state().get( 'selection' );\n\n\t\t\t\tcurrent_selection.forEach( function( id ) {\n\t\t\t\t\tlet attachment = wp.media.attachment( id );\n\t\t\t\t\tattachment.fetch();\n\t\t\t\t\tselection.add( attachment ? [ attachment ] : [] );\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\t// Store selection\n\t\t\tuploader.on( 'select', function() {\n\t\t\t\tlet selection = uploader.state().get( 'selection' ).toJSON();\n\t\t\t\tlet multiple = uploader.options.multiple;\n\n\t\t\t\t// multiple attachments\n\t\t\t\tlet attachment_ids = [];\n\n\t\t\t\tfor ( let k in selection ) {\n\t\t\t\t\tif ( selection.hasOwnProperty( k ) ) {\n\t\t\t\t\t\tlet attachment = selection[ k ];\n\t\t\t\t\t\tattachment_ids.push( attachment.id );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Single attachment ( integer )\n\t\t\t\tif ( 1 === attachment_ids.length && !multiple ) {\n\t\t\t\t\tattachment_ids = attachment_ids[ 0 ];\n\t\t\t\t}\n\n\t\t\t\t// Save column\n\t\t\t\tel.cacie_savecolumn( column, item, attachment_ids );\n\t\t\t} );\n\n\t\t\tif ( typeof column.editable.attachment !== 'undefined' ) {\n\t\t\t\tif ( typeof column.editable.attachment.disable_select_current !== 'undefined' && column.editable.attachment.disable_select_current ) {\n\t\t\t\t\tuploader.on( 'ready', function() {\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t}, 1 );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tuploader.open();\n\t\t} );\n\t};\n\n\t/**\n\t * Edit type: Date\n\t *\n\t * Uses bootstrap date picker; http://www.eyecon.ro/bootstrap-datepicker/\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_date = function( column, item ) {\n\n\t\tlet el = $( this );\n\t\tlet value = el.cacie_get_value( column, item );\n\n\t\t// convert yyyymmdd to yyyy-mm-dd\n\t\tif ( value ) {\n\t\t\tvalue = [ value.slice( 0, 4 ), '-', value.slice( 4 ) ].join( '' );\n\t\t\tvalue = [ value.slice( 0, 7 ), '-', value.slice( 7 ) ].join( '' );\n\t\t}\n\n\t\tel.attr( 'data-date', value );\n\t\tel.attr( 'data-date-format', 'yyyy-mm-dd' );\n\n\t\tel.bdatepicker( {\n\t\t\tweekStart : column.editable.weekstart // default starts on sunday, 1 for monday\n\t\t} ).on( 'changeDate', function( ev ) {\n\t\t\tlet new_date = new Date( ev.date );\n\t\t\tlet yyyymmdd = new_date.yyyymmdd();\n\n\t\t\tel.cacie_savecolumn( column, item, yyyymmdd );\n\t\t\tel.bdatepicker( 'hide' );\n\t\t} );\n\n\t\t// Convert date object to yyyyddmm format\n\t\t// http://stackoverflow.com/questions/3066586/get-string-in-yyyymmdd-format-from-js-date-object\n\t\tDate.prototype.yyyymmdd = function() {\n\t\t\tlet yyyy = this.getFullYear().toString();\n\t\t\tlet mm = (this.getMonth() + 1).toString(); // getMonth() is zero-based\n\t\t\tlet dd = this.getDate().toString();\n\t\t\treturn yyyy + (mm[ 1 ] ? mm : \"0\" + mm[ 0 ]) + (dd[ 1 ] ? dd : \"0\" + dd[ 0 ]); // padding\n\t\t};\n\t};\n\n\t/**\n\t * Edit type: taxonomy\n\t *\n\t * @since 1.0\n\t */\n\t$.fn.cacie_edit_checklist = function( column, item ) {\n\n\t\tlet el = $( this );\n\t\tlet value = el.cacie_get_value( column, item );\n\t\tlet options = column.editable.options;\n\n\t\t// e.g. no terms available\n\t\tif ( 'false' === value ) {\n\t\t\tvalue = '';\n\t\t}\n\n\t\tel.cacie_xeditable( {\n\t\t\ttype : 'checklist',\n\t\t\tvalue : value,\n\t\t\tsource : cacie_options_format_editable( options )\n\t\t}, column, item );\n\t};\n\n\t/**\n\t * Make column editable via x-editable for a certain item\n\t *\n\t * @since 1.0\n\t *\n\t * @param {Object} args Arguments to be used for the x-editable call. Arguments that are passed will overwrite the default values for these arguments\n\t * @param {Object} column Information about this specific editable column\n\t * @param {Object} item The current item (row) that is being made editable (e.g. a post or user object)\n\t */\n\t$.fn.cacie_xeditable = function( args, column, item ) {\n\t\tlet el = $( this );\n\n\t\tlet defaults = {\n\t\t\turl : ajaxurl,\n\t\t\tparams : {\n\t\t\t\taction : 'acp_editing_column_save',\n\t\t\t\tlist_screen : AC.list_screen,\n\t\t\t\tlayout : AC.layout,\n\t\t\t\tpk : item.ID,\n\t\t\t\tscreen : AC.screen,\n\t\t\t\tcolumn : column.column_name,\n\t\t\t\t_ajax_nonce : AC.ajax_nonce\n\t\t\t},\n\t\t\tpk : item.ID,\n\t\t\tvalue : $( this ).cacie_get_value( column, item ),\n\t\t\tplacement : 'bottom',\n\t\t\tmode : 'popup', // or inline\n\t\t\temptytext : ''\n\t\t};\n\n\t\t// Merge with edit type-specific arguments\n\t\targs = $.extend( defaults, args );\n\n\t\t// Merge with column type-specific arguments\n\t\tif ( typeof column.editable.js !== 'undefined' ) {\n\t\t\targs = $.extend( args, column.editable.js );\n\t\t}\n\n\t\t// Placeholder\n\t\tif ( typeof column.editable.placeholder !== 'undefined' ) {\n\t\t\targs.placeholder = column.editable.placeholder;\n\t\t}\n\n\t\tlet htmlatts = [];\n\n\t\t// Max length\n\t\tif ( typeof column.editable.maxlength !== 'undefined' ) {\n\t\t\thtmlatts.push( {\n\t\t\t\tkey : 'maxlength',\n\t\t\t\tvalue : parseInt( column.editable.maxlength, 10 )\n\t\t\t} );\n\t\t}\n\n\t\t// Number range\n\t\tif ( typeof column.editable.range_min !== 'undefined' ) {\n\t\t\thtmlatts.push( {\n\t\t\t\tkey : 'min',\n\t\t\t\tvalue : parseFloat( column.editable.range_min )\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof column.editable.range_max !== 'undefined' ) {\n\t\t\thtmlatts.push( {\n\t\t\t\tkey : 'max',\n\t\t\t\tvalue : parseFloat( column.editable.range_max )\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof column.editable.range_step !== 'undefined' ) {\n\t\t\tlet step = 'any';\n\n\t\t\tif ( column.editable.range_step.length > 0 && column.editable.range_step !== 'any' ) {\n\t\t\t\tstep = parseFloat( column.editable.range_step );\n\t\t\t}\n\n\t\t\thtmlatts.push( {\n\t\t\t\tkey : 'step',\n\t\t\t\tvalue : step\n\t\t\t} );\n\t\t}\n\n\t\tif ( htmlatts.length ) {\n\t\t\tlet htmlatts_html = '';\n\n\t\t\tfor ( let i in htmlatts ) {\n\t\t\t\thtmlatts_html += htmlatts[ i ].key + '=\"' + $( '<div />' ).text( htmlatts[ i ].value ).html() + '\"';\n\t\t\t}\n\n\t\t\tswitch ( column.editable.type ) {\n\t\t\t\tcase 'number':\n\t\t\t\t\targs.tpl = '<input type=\"number\" ' + htmlatts_html + '>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\targs.tpl = '<input type=\"text\" ' + htmlatts_html + '>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'textarea':\n\t\t\t\t\targs.tpl = '<textarea ' + htmlatts_html + '></textarea>';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Required\n\t\tif ( typeof column.editable.required !== 'undefined' && column.editable.required ) {\n\t\t\targs.validate = function( value ) {\n\t\t\t\tlet valid = true;\n\n\t\t\t\tswitch ( column.editable.type ) {\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tif ( !value || value === 'null' ) {\n\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif ( !value.length ) {\n\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif ( !valid ) {\n\t\t\t\t\treturn ACP_Editing.i18n.errors.field_required;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tlet target = el.cacie_get_target( column );\n\n\t\ttarget.on( 'save', function( e, params ) {\n\t\t\tel.cacie_store_revision( column, item, params.newValue );\n\t\t\tel.cacie_after_save( column, item, params.newValue );\n\t\t} );\n\n\t\t// Display ajax returned value\n\t\tif ( typeof column.editable.display_ajax === 'undefined' || column.editable.display_ajax ) {\n\t\t\targs.display = function() {}; // should be left empty, do not remove\n\t\t\targs.success = function( response ) { // replace display with ajax value\n\n\t\t\t\tif ( response.success ) {\n\t\t\t\t\tel.cacie_replace_column_html( response.data, column.column_name );\n\t\t\t\t}\n\n\t\t\t\tel.cacie_after_save( column, item );\n\n\t\t\t\tif ( typeof response.data !== 'undefined' && typeof response.data.rawvalue !== 'undefined' ) {\n\t\t\t\t\treturn { newValue : response.data.rawvalue };\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse if ( typeof column.editable.js !== 'undefined' && typeof column.editable.js.selector !== 'undefined' ) {\n\t\t\targs.success = function() {\n\t\t\t\tel.cacie_after_save( column, item );\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\targs.success = function( response ) {\n\t\t\t\tel.cacie_after_save( column, item );\n\n\t\t\t\tif ( typeof response.data !== 'undefined' && typeof response.data.rawvalue !== 'undefined' ) {\n\t\t\t\t\treturn { newValue : response.data.rawvalue };\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Add marker to editable that XEditable is in use\n\t\tcolumn.editable.is_xeditable = true;\n\n\t\t// Reference to xeditables\n\t\tlet xeditable = el;\n\n\t\tif ( typeof column.editable.js !== 'undefined' && typeof column.editable.js.selector !== 'undefined' ) {\n\t\t\txeditable = el.find( column.editable.js.selector );\n\t\t\tel.removeClass( 'cacie-editable' );\n\t\t\txeditable.addClass( 'cacie-editable' );\n\t\t}\n\n\t\t// Add for reference\n\t\twindow.xeditables.push( xeditable );\n\n\t\t// XEditable\n\t\tel.editable( args );\n\t};\n\n\t/**\n\t * Store Revision\n\t *\n\t * @since 1.0\n\t *\n\t * @param {Object} column Information about this specific editable column\n\t * @param {Object} item The current item (row) that is being made editable (e.g. a post or user object)\n\t * @param {String} value Revised value\n\t */\n\t$.fn.cacie_store_revision = function( column, item, value ) {\n\n\t\tlet revisions = ACP_Editing_Items[ item.ID ].columndata[ column.column_name ].revisions;\n\t\tlet current_revision = ACP_Editing_Items[ item.ID ].columndata[ column.column_name ].current_revision;\n\t\tlet num_deletes = revisions.length - current_revision - 1;\n\n\t\tfor ( let i = 0; i < num_deletes; i++ ) {\n\t\t\tACP_Editing_Items[ item.ID ].columndata[ column.column_name ].revisions.pop();\n\t\t}\n\n\t\tACP_Editing_Items[ item.ID ].columndata[ column.column_name ].revisions.push( value );\n\t\tACP_Editing_Items[ item.ID ].columndata[ column.column_name ].current_revision++;\n\n\t\t$( this ).cacie_handle_actions( column, item );\n\t};\n\n\t/*\n\t * Handle cell actions\n\t */\n\t$.fn.cacie_handle_actions = function( column, item ) {\n\t\tlet el, el_actions, el_undo, el_redo, el_clear, el_download, el_edit;\n\n\t\tel = $( this );\n\t\tel_actions = el.parent().find( '.cacie-cell-actions' );\n\t\tel.cacie_wrap_images();\n\n\t\tel_actions.remove();\n\n\t\tel.parent().find( '.cacie-edit, .cacie-undo, .cacie-redo, .cacie-clear' ).remove();\n\n\t\tel_actions = $( '<div class=\"cacie-cell-actions\" />' );\n\t\tel_edit = $( '<a href=\"#\" class=\"cacie-cell-action cacie-edit\" title=\"' + ACP_Editing.i18n.edit + '\" />' );\n\t\tel_undo = $( '<a href=\"#\" class=\"cacie-cell-action cacie-undo\" title=\"' + ACP_Editing.i18n.undo + '\" />' );\n\t\tel_redo = $( '<a href=\"#\" class=\"cacie-cell-action cacie-redo\" title=\"' + ACP_Editing.i18n.redo + '\" />' );\n\t\tel_clear = $( '<a href=\"#\" class=\"cacie-cell-action cacie-clear\" title=\"' + ACP_Editing.i18n.delete + '\"/>' );\n\n\t\tel_undo.hide();\n\t\tel_redo.hide();\n\t\tel_clear.hide();\n\n\t\tel_actions.append( el_redo );\n\t\tel_actions.append( el_undo );\n\n\t\tif ( column.editable.clear_button ) {\n\t\t\tel_actions.prepend( el_clear );\n\t\t}\n\n\t\t// TODO: remove column references\n\t\tswitch ( column.type ) {\n\t\t\tcase 'title':\n\t\t\tcase 'name':\n\t\t\tcase 'username':\n\t\t\tcase 'coupon_code':\n\t\t\t\tel_actions.prepend( el_edit );\n\t\t\t\tel.parents( 'td' ).find( column.editable.js.selector ).after( el_actions );\n\t\t\t\t//el.parents( 'td' ).find( '.row-actions a' ).click( function( e ) {\n\t\t\t\t//e.stopPropagation();\n\t\t\t\t//} );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tswitch ( column.editable.type ) {\n\t\t\t\t\tcase 'attachment':\n\n\t\t\t\t\t\t// add download button\n\t\t\t\t\t\tif ( el.find( '> a' ).length > 0 ) {\n\t\t\t\t\t\t\tel_download = $( '<a href=\"' + el.find( 'a' ).attr( 'href' ) + '\" class=\"cacie-cell-action cacie-download\" target=\"_blank\" title=\"' + ACP_Editing.i18n.download + '\"/>' );\n\t\t\t\t\t\t\tel_actions.prepend( el_download );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tel_actions.prepend( el_edit );\n\t\t\t\t\t\tel.parents( 'td' ).find( '.cacie-editable' ).after( el_actions );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'media':\n\t\t\t\t\t\tel_actions.prepend( el_edit );\n\t\t\t\t\t\tel_undo.before( '<div class=\"cacie-separator\" />' );\n\t\t\t\t\t\tel_redo.before( '<div class=\"cacie-separator\" />' );\n\n\t\t\t\t\t\tif ( typeof column.editable.multiple !== 'undefined' && column.editable.multiple ) {\n\t\t\t\t\t\t\tel.parents( 'td' ).addClass( 'cacie-multiple' );\n\n\t\t\t\t\t\t\tel_clear.remove();\n\n\t\t\t\t\t\t\tel.parents( 'td' ).find( '.cacie-item' ).each( function() {\n\t\t\t\t\t\t\t\tlet el_item_actions = $( '<div class=\"cacie-item-actions\" />' );\n\t\t\t\t\t\t\t\tlet el_delete = $( '<a href=\"#\" class=\"cacie-cell-action cacie-delete\" title=\"' + ACP_Editing.i18n.delete + '\"/>' );\n\n\t\t\t\t\t\t\t\tel_item_actions.append( el_delete );\n\n\t\t\t\t\t\t\t\tel_delete.on( 'click', (function( column, item ) {\n\t\t\t\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t\t\t\tlet _item = $( this ).parents( '.cacie-item' );\n\t\t\t\t\t\t\t\t\t\tlet val = el.cacie_get_value( column, item );\n\n\t\t\t\t\t\t\t\t\t\tif ( $.isArray( val ) ) {\n\t\t\t\t\t\t\t\t\t\t\tval = $.grep( val, function( value ) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Check must be type insensitive\n\t\t\t\t\t\t\t\t\t\t\t\treturn value != _item.attr( 'data-cacie-id' );\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t_item.fadeOut( 1000 );\n\n\t\t\t\t\t\t\t\t\t\tel.cacie_savecolumn( column, item, val );\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}( column, item )) );\n\n\t\t\t\t\t\t\t\t$( this ).append( el_item_actions );\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t\tel.parents( 'td' ).find( '.cacie-editable' ).append( el_actions );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tel.parents( 'td' ).find( '.cacie-editable' ).append( el_actions );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tel_actions.prepend( el_edit );\n\t\t\t\t\t\tel.parents( 'td' ).find( '.cacie-editable' ).after( el_actions );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// Edit: Click event\n\t\tel_edit.on( 'click', (function( column ) {\n\t\t\treturn function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tel.cacie_get_target( column ).trigger( 'click' );\n\t\t\t};\n\t\t}( column, item )) );\n\n\t\t// Undo: Click Event\n\t\tel_undo.on( 'click', (function( column, item ) {\n\t\t\treturn function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tel.cacie_restore_revision( column, item, item.columndata[ column.column_name ].current_revision - 1 );\n\t\t\t};\n\t\t}( column, item )) );\n\n\t\t// Redo: Click Event\n\t\tel_redo.on( 'click', (function( column, item ) {\n\t\t\treturn function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\n\t\t\t\tel.cacie_restore_revision( column, item, item.columndata[ column.column_name ].current_revision + 1 );\n\t\t\t};\n\t\t}( column, item )) );\n\n\t\t// Clear: Click Event\n\t\tel_clear.on( 'click', (function( column, item ) {\n\t\t\treturn function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tel.cacie_savecolumn( column, item, '' );\n\t\t\t\te.stopPropagation();\n\t\t\t};\n\t\t}( column, item )) );\n\n\t\tlet revisions = ACP_Editing_Items[ item.ID ].columndata[ column.column_name ].revisions;\n\t\tlet current_revision = ACP_Editing_Items[ item.ID ].columndata[ column.column_name ].current_revision;\n\t\tlet current_value = revisions[ current_revision ];\n\n\t\tif ( current_revision < revisions.length - 1 ) {\n\t\t\tel_redo.show();\n\t\t}\n\t\telse {\n\t\t\tel_redo.hide();\n\t\t}\n\n\t\tif ( current_revision > 0 ) {\n\t\t\tel_undo.show();\n\t\t}\n\t\telse {\n\t\t\tel_undo.hide();\n\t\t}\n\n\t\tif ( current_value ) {\n\t\t\tel_clear.show();\n\t\t}\n\t\telse {\n\t\t\tel_clear.hide();\n\t\t}\n\t};\n\n\t/**\n\t * Save a column by initiating an AJAX request, setting the item column HTML based on the return value from the AJAX call\n\t *\n\t * @since 1.0\n\t *\n\t * @param {Object} column Information about this specific editable column\n\t * @param {Object} item The current item (row) that is being made editable (e.g. a post or user object)\n\t * @param {String} newvalue New value for this item and column\n\t * @param {Boolean} store_revision Optional. Whether to store the change as a revision\n\t */\n\t$.fn.cacie_savecolumn = function( column, item, newvalue, store_revision ) {\n\n\t\tlet el = $( this );\n\n\t\t// Update value for element\n\t\tel.cacie_set_value( column, item, newvalue );\n\n\t\t// Css transition\n\t\tel.closest( 'td' ).addClass( 'processing' );\n\n\t\t// Handle storing the revision\n\t\tstore_revision = (typeof store_revision === 'undefined' || store_revision);\n\n\t\tif ( store_revision ) {\n\t\t\t$( this ).cacie_store_revision( column, item, newvalue );\n\t\t}\n\n\t\t// Do AJAX request\n\t\tel.cacie_add_ajax_loading( column );\n\n\t\t$.post( ajaxurl, {\n\t\t\taction : 'acp_editing_column_save',\n\t\t\tlist_screen : AC.list_screen,\n\t\t\tlayout : AC.layout,\n\t\t\tcolumn : column.column_name,\n\t\t\tpk : item.ID,\n\t\t\tscreen : AC.screen,\n\t\t\tvalue : newvalue,\n\t\t\t_ajax_nonce : AC.ajax_nonce\n\t\t}, function( response ) {\n\t\t\tif ( response.success ) {\n\t\t\t\t// update data even when empty, in case field is cleared\n\t\t\t\tel.cacie_replace_column_html( response.data, column.column_name );\n\t\t\t}\n\n\t\t\tel.cacie_after_save( column, item );\n\t\t}, 'json' );\n\t};\n\n\t/**\n\t * Replace column HTML value\n\t *\n\t * @param {Object} data\n\t * @param {String} data.row_html\n\t * @param {String} data.cell_html\n\t * @param {String} column_name\n\t */\n\t$.fn.cacie_replace_column_html = function( data, column_name ) {\n\t\tlet $td = $( this );\n\t\tlet display_value = false;\n\t\tlet $row_actions = $td.find( '.row-actions' );\n\n\t\tif ( data.cell_html ) {\n\t\t\tdisplay_value = data.cell_html;\n\t\t}\n\n\t\telse if ( data.row_html ) {\n\t\t\t$row_actions = '';\n\t\t\tdisplay_value = $( data.row_html ).find( 'td.' + column_name ).html();\n\t\t}\n\n\t\t// Add row-actions\n\t\tlet $display_value = $( '<div>' ).html( display_value );\n\n\t\t// HTML\n\t\t$td.html( $display_value.append( $row_actions ).html() );\n\t};\n\n}( jQuery ));\n\n// xEditable Colorbox\n(function( $ ) {\n\t\"use strict\";\n\n\tlet ACP_Color_Input = function( options ) {\n\t\tthis.init( 'color', options, ACP_Color_Input.defaults );\n\t};\n\n\t$.fn.editableutils.inherit( ACP_Color_Input, $.fn.editabletypes.abstractinput );\n\n\t$.extend( ACP_Color_Input.prototype, {\n\n\t\trender : function() {\n\t\t\t//let $container = this.$input;\n\t\t\t//let input_type = 'text';\n\t\t\t//$container.find( 'input' ).wpColorPicker();\n\t\t},\n\n\t\tvalue2input : function( value ) {\n\t\t\tlet $container = this.$input;\n\n\t\t\t$container.find( 'input' ).val( value ).wpColorPicker();\n\t\t},\n\n\t\tinput2value : function() {\n\t\t\treturn this.$input.find( '.wp-color-picker' ).val();\n\t\t}\n\t} );\n\n\tlet template = '';\n\n\ttemplate += '<div class=\"single-input\">';\n\ttemplate += '<input type=\"text\" name=\"ac_input_text\">';\n\ttemplate += '</div>';\n\n\tACP_Color_Input.defaults = $.extend( {}, $.fn.editabletypes.abstractinput.defaults, {\n\t\ttpl : template\n\t} );\n\n\t$.fn.editabletypes.color = ACP_Color_Input;\n}( window.jQuery ));\n\njQuery.fn.cacie_edit_color = function( column, item ) {\n\n\tlet el = jQuery( this );\n\n\tel.cacie_xeditable( {\n\t\ttype : 'color',\n\t\tinputclass : column.editable.subtype,\n\t\tvalue : el.cacie_get_value( column, item )\n\t}, column, item );\n};\n\n// xEditable DateTime\n\n(function( $ ) {\n\t\"use strict\";\n\n\tlet EditableDateTime = function( options ) {\n\t\tthis.init( 'date_time', options, EditableDateTime.defaults );\n\t};\n\n\t$.fn.editableutils.inherit( EditableDateTime, $.fn.editabletypes.abstractinput );\n\n\t$.extend( EditableDateTime.prototype, {\n\n\t\trender : function() {\n\t\t\tlet $date_field = $( '#frm_date' );\n\t\t\tlet $time_hours_field = $( '#frm_time_hours' );\n\t\t\tlet $time_minutes_field = $( '#frm_time_minutes' );\n\t\t\tlet $time_seconds_field = $( '#frm_time_seconds' );\n\n\t\t\t$date_field.bdatepicker( {\n\t\t\t\tformat : 'yyyy-mm-dd',\n\t\t\t\tweekStart : this.options.weekstart,\n\t\t\t} ).on( 'changeDate', function() {\n\t\t\t\t$date_field.bdatepicker( 'hide' );\n\t\t\t\t$time_hours_field.focus();\n\t\t\t} );\n\n\t\t\tfor ( let i = 0; i < 24; i++ ) {\n\t\t\t\tlet $option = $( '<option>' );\n\t\t\t\tlet val = ('0' + i).slice( -2 );\n\t\t\t\tlet label = (12 === this.options.timeformat) ? this.formatAMPM( i ) : val;\n\n\t\t\t\t$option.val( val ).text( label );\n\t\t\t\t$time_hours_field.append( $option );\n\t\t\t}\n\t\t\t$time_hours_field.find( 'option:first' ).prop( 'selected', true );\n\n\t\t\tfor ( let i = 0; i < 60; i++ ) {\n\t\t\t\tlet $option = $( '<option>' );\n\t\t\t\tlet val = ('0' + i).slice( -2 );\n\n\t\t\t\t$option.val( val ).text( val );\n\t\t\t\t$time_minutes_field.append( $option.clone() );\n\t\t\t\t$time_seconds_field.append( $option );\n\t\t\t}\n\t\t\t$time_minutes_field.val( '00' );\n\t\t\t$time_seconds_field.val( '00' );\n\n\t\t},\n\n\t\tformatAMPM : function( hours ) {\n\t\t\tlet ampm = hours >= 12 ? 'pm' : 'am';\n\t\t\thours = hours % 12;\n\t\t\thours = hours ? hours : 12; // the hour '0' should be '12'\n\n\t\t\treturn hours + ' ' + ampm;\n\t\t},\n\n\t\tvalue2input : function( value ) {\n\t\t\tif ( !value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet date = value.substr( 0, 10 );\n\t\t\tlet hours = value.substr( 11, 2 );\n\t\t\tlet minutes = value.substr( 14, 2 );\n\t\t\tlet seconds = value.substr( 17, 2 );\n\n\t\t\t$( '#frm_date' ).val( date ).attr( 'data-date', date ).attr( 'data-date-format', 'yyyy-mm-dd' ).bdatepicker( 'update' );\n\t\t\t$( '#frm_time_hours' ).val( hours );\n\t\t\t$( '#frm_time_minutes' ).val( minutes );\n\t\t\t$( '#frm_time_seconds' ).val( seconds );\n\t\t},\n\n\t\tinput2value : function() {\n\t\t\tlet date = $( '#frm_date' ).val();\n\t\t\tlet hours = $( '#frm_time_hours' ).val();\n\t\t\tlet minutes = $( '#frm_time_minutes' ).val();\n\t\t\tlet seconds = $( '#frm_time_seconds' ).val();\n\n\t\t\tif ( !date || !hours || !minutes || !seconds ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn date + ' ' + hours + ':' + minutes + ':' + seconds;\n\t\t}\n\t} );\n\n\tlet template = '';\n\n\ttemplate += '<div class=\"acf-editable-date-time\">';\n\ttemplate += '<div class=\"acf-editable-date-time__date\">';\n\ttemplate += '<label>' + ACP_Editing.i18n.date + '</label>';\n\ttemplate += '<input type=\"text\" id=\"frm_date\" name=\"date\" placeholder=\"yyyy-mm-dd\" required class=\"form-control\">';\n\ttemplate += '</div><div class=\"acf-editable-date-time__time\">';\n\ttemplate += '<label>' + ACP_Editing.i18n.time + '</label>';\n\ttemplate += '<select type=\"text\" id=\"frm_time_hours\" name=\"time_hours\"></select>:';\n\ttemplate += '<select type=\"text\" id=\"frm_time_minutes\" name=\"time_minutes\"></select>:';\n\ttemplate += '<select type=\"text\" id=\"frm_time_seconds\" name=\"time_seconds\"></select>';\n\ttemplate += '</div>';\n\ttemplate += '</div>';\n\n\tEditableDateTime.defaults = $.extend( {}, $.fn.editabletypes.abstractinput.defaults, {\n\t\ttpl : template,\n\t\tweekstart : 0,\n\t\ttimeformat : 12\n\t} );\n\n\t$.fn.editabletypes.date_time = EditableDateTime;\n}( window.jQuery ));\n\njQuery.fn.cacie_edit_date_time = function( column, item ) {\n\n\tlet el = jQuery( this );\n\n\tel.cacie_xeditable( {\n\t\ttype : 'date_time',\n\t\tvalue : el.cacie_get_value( column, item ),\n\t\tweekstart : column.editable.weekstart,\n\t\ttimeformat : column.editable.timeformat\n\t}, column, item );\n};\n\n// xEditable Multi Input\n(function( $ ) {\n\t\"use strict\";\n\n\tlet ACP_Multi_Input = function( options ) {\n\t\tthis.init( 'multi_input', options, ACP_Multi_Input.defaults );\n\t};\n\n\t$.fn.editableutils.inherit( ACP_Multi_Input, $.fn.editabletypes.abstractinput );\n\n\t$.extend( ACP_Multi_Input.prototype, {\n\n\t\trender : function() {\n\t\t\tlet $container = this.$input;\n\t\t\tlet input_type = 'text';\n\n\t\t\tif ( this.options.hasOwnProperty( 'subtype' ) ) {\n\t\t\t\tinput_type = this.options.subtype;\n\t\t\t\t$container.find( '.single-input input' ).attr( 'type', input_type );\n\n\t\t\t\tif ( 'textarea' === input_type ) {\n\t\t\t\t\t$container.find( '.single-input input' ).remove();\n\t\t\t\t\t$container.find( '.single-input' ).prepend( '<textarea class=\"form-control input-sm small-text\" name=\"types_multi_text[]\"></textarea>' )\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet $template = $( '<div></div>' ).append( $container.find( '.single-input:first' ).clone() );\n\n\t\t\t$container.on( 'click', '.add', function() {\n\t\t\t\t$( this ).closest( '.single-input' ).after( $template.html() );\n\t\t\t} );\n\n\t\t\t$container.on( 'click', '.remove', function() {\n\t\t\t\t$( this ).closest( '.single-input' ).remove();\n\t\t\t} );\n\t\t},\n\n\t\tvalue2input : function( value ) {\n\t\t\tlet $container = this.$input;\n\t\t\tlet $template = $( '<div></div>' ).append( $container.find( '.single-input' ).clone() );\n\t\t\tif ( !value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$.each( value, function( i, val ) {\n\t\t\t\tif ( i > 0 ) {\n\t\t\t\t\t$container.append( $template.html() );\n\t\t\t\t}\n\t\t\t\t$container.find( '.single-input:eq( ' + i + ' ) [name=\"types_multi_text[]\"]' ).val( val );\n\n\t\t\t} );\n\t\t},\n\n\t\tinput2value : function() {\n\t\t\treturn this.$input.find( \"[name='types_multi_text\\\\[\\\\]']\" ).map( function() {return $( this ).val();} ).get();\n\t\t}\n\t} );\n\n\tlet template = '';\n\n\ttemplate += '<div class=\"multi-input-container\">';\n\n\ttemplate += '<div class=\"single-input\">';\n\ttemplate += '<input type=\"text\" class=\"form-control input-sm small-text\" name=\"types_multi_text[]\">';\n\ttemplate += '<span class=\"buttons\"><span class=\"add\"><span class=\"glyphicon glyphicon-plus\"></span></span><span class=\"remove\"><span class=\"glyphicon glyphicon-minus\"></span></span></span>';\n\ttemplate += '</div>';\n\n\ttemplate += '</div>';\n\n\tACP_Multi_Input.defaults = $.extend( {}, $.fn.editabletypes.abstractinput.defaults, {\n\t\ttpl : template,\n\t\tsubtype : 'text'\n\t} );\n\n\t$.fn.editabletypes.multi_input = ACP_Multi_Input;\n}( window.jQuery ));\n\njQuery.fn.cacie_edit_multi_input = function( column, item ) {\n\n\tlet el = jQuery( this );\n\n\tel.cacie_xeditable( {\n\t\ttype : 'multi_input',\n\t\tsubtype : column.editable.subtype,\n\t\tvalue : el.cacie_get_value( column, item )\n\t}, column, item );\n};"],"sourceRoot":""}